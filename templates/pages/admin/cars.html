{% extends "_base.html" %}

{% block title %}{{ _('Cars Inventory') }} - Admin{% endblock %}

{% block content %}
<div class="fixed top-4 right-4 z-50 flex items-center gap-3">
    {% include "components/_theme_toggle.html" %}
    {% include "components/_language_selector.html" %}
</div>

<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">{{ _('Cars Inventory') }}</h1>
            <p class="text-gray-600 dark:text-gray-400">{{ _('Browse and manage vehicle inventory') }}</p>
        </div>

        <div class="mb-6">
            <a href="/admin"
                class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-medium rounded-lg transition-colors">
                ‚Üê {{ _('Back to Admin') }}
            </a>
        </div>

        <div x-cloak x-data="datagrid(adminCarsDatagrid())"
            class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 dark:border-gray-700 overflow-hidden">
            {% set form_template = "pages/admin/cars_form.html" %}
            {% set resource_name = _('Car') %}
            {% include "components/_datagrid_grid.html" %}
        </div>
    </div>
</div>

<script>
    function adminCarsDatagrid() {
        return {
            apiUrl: '/api/admin/cars',
            columns: [
                {key: 'id', label: 'ID', width: 70, sortable: true},
                {key: 'make', label: "{{ _('Make') }}", width: 150, sortable: true, filterable: true},
                {key: 'model', label: "{{ _('Model') }}", width: 150, sortable: true, filterable: true},
                {key: 'version', label: "{{ _('Version') }}", width: 150, sortable: true, filterable: true},
                {key: 'year', label: "{{ _('Year') }}", width: 100, sortable: true, filterable: true},
                {key: 'price', label: "{{ _('Price') }}", width: 120, sortable: true, filterable: true},
                {key: 'actions', label: "{{ _('Actions') }}", width: 100, sortable: false}
            ],
            i18n: {
                valueGreaterEqual: "{{ _('Value must be greater than or equal to {0}') }}",
                valueGreater: "{{ _('Value must be greater than {0}') }}",
                valueLessEqual: "{{ _('Value must be less than or equal to {0}') }}",
                valueLess: "{{ _('Value must be less than {0}') }}",
                fieldRequired: "{{ _('This field is required') }}",
                validNumber: "{{ _('Must be a valid number') }}",
                validInteger: "{{ _('Must be a valid integer') }}",
                minLength: "{{ _('Must be at least {0} character(s)') }}",
                maxLength: "{{ _('Must be at most {0} character(s)') }}",
                validText: "{{ _('Must be a valid text') }}",
                invalidValue: "{{ _('Invalid value') }}",
                fixErrors: "{{ _('Please fix the validation errors below.') }}",
                recordAddSuccess: "{{ _('Record added successfully') }}",
                recordUpdateSuccess: "{{ _('Record updated successfully') }}",
                recordDeleteSuccess: "{{ _('Record deleted successfully') }}",
                recordAddFailed: "{{ _('Failed to add record') }}",
                recordUpdateFailed: "{{ _('Failed to update record') }}",
                recordDeleteFailed: "{{ _('Failed to delete record') }}",
                networkError: "{{ _('Network error - no response from server') }}",
                unknownError: "{{ _('Unknown error occurred') }}",
                validationError: "{{ _('Validation error') }}"
            }
        };
    }
</script>
{% endblock %}
