{% extends "_base.html" %}

{% block title %}{{ _('Admin - Contacts') }} - {{ super() }}{% endblock %}

{% block content %}
<!-- Header with theme and language toggles -->
<div class="fixed top-4 right-4 z-50 flex items-center gap-3">
  {% include "components/_language_selector.html" %}
  {% include "components/_theme_toggle.html" %}
  {% include "components/_logout_button.html" %}
</div>

<div class="max-w-4xl mx-auto p-6">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">{{ _('Admin - Contacts') }}</h1>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <table class="min-w-full divide-y divide-gray-200">
      <thead>
        <tr>
          <th class="px-2 text-left">{{ _('ID') }}</th>
          <th>{{ _('Name') }}</th>
          <th>{{ _('Email') }}</th>
          <th>{{ _('Message') }}</th>
          <th>{{ _('Created') }}</th>
          <th>{{ _('Action') }}</th>
        </tr>
      </thead>
      <tbody>
        {% for c in contacts %}
        <tr class="border-t">
          <td class="px-2 py-2 text-sm">{{ c.id }}</td>
          <td class="px-2 py-2 text-sm">{{ c.name }}</td>
          <td class="px-2 py-2 text-sm">{{ c.email }}</td>
          <td class="px-2 py-2 text-sm">{{ c.message }}</td>
          <td class="px-2 py-2 text-sm">{{ c.created_at }}</td>
          <td class="px-2 py-2 text-sm">
            <form method="post" action="/admin/contact/delete" class="inline">
              <input type="hidden" name="id" value="{{ c.id }}" />
              <button class="px-2 py-1 bg-red-600 text-white rounded">{{ _('Delete') }}</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
</div>
{% endblock %}