{% extends "_base.html" %}

{% block title %}{{ _('User Management') }} - Admin - {{ super() }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-8">
    <div class="max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">{{ _('User Management') }}</h1>
            <p class="text-gray-600 dark:text-gray-400">{{ _('Manage user accounts and permissions') }}</p>
        </div>

        <div class="mb-6">
            <a href="/admin"
                class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-medium rounded-lg transition-colors">
                ‚Üê {{ _('Back to Admin') }}
            </a>
        </div>

        <div x-cloak x-data="datagrid(adminUsersDatagrid())"
            class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 dark:border-gray-700 overflow-hidden">
            {% set form_template = "pages/admin/users_form.html" %}
            {% set resource_name = _('User') %}
            {% include "components/_datagrid_grid.html" %}
        </div>
    </div>
</div>

<script>
    function adminUsersDatagrid() {
        return {
            apiUrl: '/api/admin/users',
            columns: [
                { key: 'id', label: 'ID', width: 70, sortable: true },
                { key: 'full_name', label: "{{ _('Full Name') }}", width: 200, sortable: true, filterable: true },
                { key: 'email', label: "{{ _('Email') }}", width: 250, sortable: true, filterable: true },
                { key: 'role', label: "{{ _('Role') }}", width: 120, sortable: true, filterable: true },
                { key: 'is_active', label: "{{ _('Active') }}", width: 100, sortable: true },
                { key: 'created_at', label: "{{ _('Created') }}", width: 150, sortable: true },
                { key: 'actions', label: "{{ _('Actions') }}", width: 120, sortable: false }
            ],
            i18n: window.datagridI18n
        };
    }
</script>
{% endblock %}
