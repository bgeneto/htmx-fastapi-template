<!DOCTYPE html>
<html lang="{{ request.state.locale|default("en") }}">
    {% include "components/_header.html" %}
    <body class="font-sans font-normal bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen transition-colors duration-300">
        <div x-data="{ sidebarIsOpen: false }"
             class="relative flex w-full min-h-screen">
            {% include "components/_sidebar.html" %}
            <div class="flex-1 flex flex-col min-h-screen md:pl-[var(--sidebar-width)] transition-[padding-left] duration-200 ease-in-out">
                {% include "components/_top_navbar.html" %}
                <main class="flex-1 p-4 md:p-6 mt-16">
                    {% block content %}{% endblock %}
                </main>
                {% include "components/_footer.html" %}
            </div>
        </div>
        <!-- Toast container (handled by toast.js if missing, but good to have placeholder) -->
        <div id="toast-container"
             class="fixed bottom-4 right-4 z-50 space-y-2 pointer-events-none"></div>
        <!-- Initialize Toast with translated close button -->
        <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.Toast && typeof window.Toast.init === 'function') {
                window.Toast.init({
                    translations: {
                        close: window.datagridI18n.toastClose
                    }
                });
            }
        });
        </script>
        {% block extra_scripts %}{% endblock %}
    </body>
</html>
